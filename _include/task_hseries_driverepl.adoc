= 添加和删除驱动器的最佳实践
:allow-uri-read: 


如果驱动器出现故障或驱动器损耗级别降至阈值以下，则应进行更换。Element 软件 UI 中的警报会在驱动器出现故障或即将出现故障时通知您。您可以热插拔故障驱动器。

此操作步骤用于更换 H410S 和 H610S 存储节点中的驱动器。删除驱动器会使该驱动器脱机。驱动器上的所有数据都会被删除并迁移到集群中的其他驱动器。根据集群上的容量利用率和活动 I/O ，将数据迁移到系统中的其他活动驱动器可能需要几分钟到一小时的时间。在卸下和更换驱动器时，您应遵循以下最佳实践来处理驱动器：

* 请将驱动器放在 ESD 袋中，直到准备好安装为止。
* 用手打开 ESD 袋或用剪刀剪掉顶部。
* 请始终佩戴 ESD 腕带，该腕带接地至机箱上未上漆的表面。
* 在拆卸，安装或搬运驱动器时，请始终使用双手。
* 切勿强制驱动器进入机箱。
* 运输驱动器时，请始终使用经过批准的包装。
* 请勿将驱动器堆栈在彼此之上。




== 添加和删除驱动器的最佳实践

* 添加所有块驱动器并确保块同步完成，然后再添加分区驱动器。
* 对于 Element 软件 10.x 及更高版本，请一次性添加所有块驱动器。请确保一次对三个以上的节点不执行此操作。
* 对于 Element 软件 9.x 及更早版本，请一次性添加三个驱动器，使其完全同步，然后再添加下一组三个驱动器。
* 删除块驱动器之前，请删除分区驱动器并确保分区同步已完成。
* 一次从一个节点中删除所有块驱动器。在转到下一个节点之前，请确保所有块同步均已完成。


.步骤
. 使用 NetApp Element 软件 UI 从集群中删除此驱动器：
+
.. 从 Element UI 中，选择 * 集群 > 驱动器 * 。
.. 选择 * 故障 * 可查看故障驱动器列表。
.. 记下故障驱动器的插槽编号。要在机箱中找到故障驱动器，您需要此信息。
.. 为要删除的驱动器选择 * 操作 * 。
.. 选择 * 删除 * 。
+

NOTE: 如果在删除节点之前没有足够的容量删除活动驱动器，则在确认删除驱动器时会显示一条错误消息。解决此错误后，您现在可以从机箱中物理卸下此驱动器。



. 更换机箱中的驱动器：
+
.. 拆开备用驱动器的包装，将其放在机架附近的无静电平面上。请保存包装材料，以便在将故障驱动器退回 NetApp 时使用。下面是 H610S 和 H410S 存储节点与驱动器的正面图：
+
image::h610s_h410s.png[显示了 H610S 和 H410S 存储节点的正面视图。]

.. （仅限 * H410S * ）执行以下步骤：
+
... 通过将序列号（服务标签）与您在 Element UI 中记下的编号进行匹配来确定节点。序列号位于每个节点背面的标签上。确定节点后，您可以使用插槽信息来确定故障驱动器所处的插槽。驱动器按字母顺序排列，从 A 到 D 以及从 0 到 5 。
... 卸下挡板。
... 按下故障驱动器上的释放按钮：
+
image::h410s_drive.png[显示了 H410S 存储节点驱动器上的释放按钮。]

+
按下释放按钮后，驱动器弹出器上的凸轮把手会部分打开，驱动器会从中板释放。

... 打开凸轮把手，然后用双手小心地将驱动器滑出。
... 将驱动器放在防静电的水平表面上。
... 用双手将替代驱动器完全插入机箱中的插槽中。
... 向下按凸轮把手，直到其发出卡嗒声。
... 重新安装挡板。
... 将驱动器更换通知 NetApp 支持部门。NetApp 支持部门将提供有关退回故障驱动器的说明。


.. （仅限 * H610S * ）执行以下步骤：
+
... 将 Element UI 中故障驱动器的插槽编号与机箱上的编号进行匹配。故障驱动器上的 LED 呈琥珀色亮起。
... 卸下挡板。
... 按释放按钮，然后卸下故障驱动器，如下图所示：
+
image::h610s_driveremove.png[显示了要从 H610S 节点中删除的驱动器。]

+

NOTE: 在尝试将驱动器滑出机箱之前，请确保托盘把手已完全打开。

... 将驱动器滑出，并将其放在无静电的水平表面上。
... 在将替代驱动器插入驱动器托架之前，按此驱动器上的释放按钮。驱动器托盘把手会弹开。
+
image::H600S_driveinstall.png[显示了 H610S 节点中安装的驱动器。]

... 插入替代驱动器，而不用力过大。驱动器完全插入后，您会听到卡嗒声。
... 小心合上驱动器托盘把手。
... 重新安装挡板。
... 将驱动器更换通知 NetApp 支持部门。NetApp 支持部门将提供有关退回故障驱动器的说明。




. 使用 Element UI 将驱动器重新添加到集群中。
+

NOTE: 在现有节点中安装新驱动器时，该驱动器会自动在 Element UI 中注册为 * 可用 * 。您应先将驱动器添加到集群中，然后该驱动器才能加入集群。

+
.. 从 Element UI 中，选择 * 集群 > 驱动器 * 。
.. 选择 * 可用 * 可查看可用驱动器列表。
.. 选择要添加的驱动器对应的 "Actions" 图标，然后选择 * 添加 * 。






== 了解更多信息

* https://www.netapp.com/data-storage/solidfire/documentation/["NetApp SolidFire 资源页面"^]
* https://docs.netapp.com/sfe-122/topic/com.netapp.ndc.sfe-vers/GUID-B1944B0E-B335-4E0B-B9F1-E960BF32AE56.html["早期版本的 NetApp SolidFire 和 Element 产品的文档"^]

